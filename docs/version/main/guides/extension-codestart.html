<!DOCTYPE html>
<html>





<head>
  <title>エクステンションcodestart - main - Quarkus</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Security-Policy" content="default-src https://dpm.demdex.net; script-src 'self' 'unsafe-eval' 'sha256-ANpuoVzuSex6VhqpYgsG25OHWVA1I+F6aGU04LoI+5s=' 'sha256-ipy9P/3rZZW06mTLAR0EnXvxSNcnfSDPLDuh3kzbB1w=' js.bizographics.com https://www.redhat.com https://static.redhat.com assets.adobedtm.com jsonip.com https://ajax.googleapis.com https://www.googletagmanager.com https://www.google-analytics.com https://use.fontawesome.com https://app.mailjet.com http://www.youtube.com http://www.googleadservices.com https://googleads.g.doubleclick.net https://dpm.demdex.net https://giscus.app; style-src 'self' https://fonts.googleapis.com https://use.fontawesome.com; img-src 'self' *; media-src 'self'; frame-src https://www.googletagmanager.com https://www.youtube.com https://embed.restream.io https://app.mailjet.com https://giscus.app; base-uri 'none'; object-src 'none'; form-action 'none'; font-src 'self' https://use.fontawesome.com https://fonts.gstatic.com;" />
  <script id="adobe_dtm" src="https://www.redhat.com/dtm.js" type="text/javascript"></script>
  <script src="/assets/javascript/highlight.pack.js" type="text/javascript"></script>
  <META HTTP-EQUIV='X-XSS-Protection' CONTENT="1; mode=block">
  <META HTTP-EQUIV='X-Content-Type-Options' CONTENT="nosniff">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Quarkus: Supersonic Subatomic Java">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@QuarkusIO"> 
  <meta name="twitter:creator" content="@QuarkusIO">
  <meta property="og:url" content="https://quarkus.io/version/main/guides/extension-codestart" />
  <meta property="og:title" content="エクステンションcodestart - main" />
  <meta property="og:description" content="Quarkus: Supersonic Subatomic Java" />
  <meta property="og:image" content="https://quarkus.io/assets/images/quarkus_card.png" />
  
  <link rel="canonical" href="https://quarkus.io/guides/extension-codestart">
  <link rel="shortcut icon" type="image/png" href="/favicon.ico" >
  <link rel="stylesheet" href="/guides/stylesheet/config.css" />
  <link rel="stylesheet" href="/assets/css/main.css?2021-07-29" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
  <link rel="alternate" type="application/rss+xml"  href="/feed.xml" title="Quarkus">
  <script src="/assets/javascript/goan.js" type="text/javascript"></script>
  <script src="/assets/javascript/hl.js" type="text/javascript"></script>
  
  
  
  
  <link rel="alternate" hreflang="en" href="https://quarkus.io/version/main/guides/extension-codestart" />
  
  <link rel="alternate" hreflang="es" href="https://es.quarkus.io/version/main/guides/extension-codestart" />
  
  <link rel="alternate" hreflang="zh" href="https://cn.quarkus.io/version/main/guides/extension-codestart" />
  
  <link rel="alternate" hreflang="ja" href="https://ja.quarkus.io/version/main/guides/extension-codestart" />
  
  <link rel="alternate" hreflang="x-default" href="https://quarkus.io/" />
</head>

<body class="guides">
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJWS5L"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  

<div class="grid-wrapper communitysite">
  <div class="grid__item width-12-12">The <a href="https://quarkus.io">English version of quarkus.io</a> is the official project site. Translated sites are community supported on a best-effort basis.</div>
</div>


  <div class="nav-wrapper">
  <div class="grid-wrapper">
    <div class="width-12-12">
      <input type="checkbox" id="checkbox" />
      <nav id="main-nav" class="main-nav">
  <div class="container">
    <div class="logo-wrapper">
        <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_600px_reverse.png" class="project-logo" title="Quarkus"></a>
    </div>
    <label class="nav-toggle" for="checkbox"> <i class="fa fa-bars"></i>
</label>
    <ul id="menu" class="menu">
      <li class="dropdown">
        <span href="/about/">Quarkusとは <i class="fas
fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/about" class="">QUARKUSとは何か?</a></li>
          <li><a href="/container-first" class="">コンテナ・ファースト</a></li>
          <li><a href="/continuum" class="">リアクティブ</a></li>
          <li><a href="/developer-joy" class="">開発者満足</a></li>
          <li><a href="/kubernetes-native" class="">KUBERNETES NATIVE</a></li>
          <li><a href="/standards" class="">標準</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="/learn/">学ぶ<i class="fas
fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/get-started" class="">入門</a></li>
          <li><a href="/guides" class="active">ガイド</a></li>
          <li><a href="/qtips" class="">"Q" Tipsビデオ</a></li>          
          <li><a href="/books" class="">書籍</a></li>
          </ul>
      </li>
      <li class="dropdown">
        <span href="/community/">コミュニティ <i class="fas
fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="/support/" class="">サポート</a></li>
          <li><a href="/blog" class="">ブログ</a></li>
          <li><a href="/discussion" class="">ディスカッション</a></li>
          <li><a href="/insights" class="">ポッドキャスト</a></li>
          <li><a href="/events" class="">イベント</a></li>
          <li><a href="/newsletter" class="">ニュースレター</a></li>
          <li><a href="/publications" class="">出版物</a></li>
          <li><a href="/awards" class="">受賞</a></li>
          </ul>
      </li>
      <li>
        <a href="https://code.quarkus.io" class="button-cta secondary
white">コーディングを開始</a>
      </li>
      <li class="dropdown">
        <span href="/language/"><div class="fas fa-globe langicon"></div><i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="https://quarkus.io/version/main/guides/extension-codestart" >OFFICIAL (ENGLISH)</a></li>
          <li><a href="https://es.quarkus.io/version/main/guides/extension-codestart">ESPAÑOL</a></li>
          <li><a href="https://cn.quarkus.io/version/main/guides/extension-codestart">简体中文</a></li>
          <li><a href="https://ja.quarkus.io/version/main/guides/extension-codestart">日本語</a></li>
          </ul>
      </li>
    </ul>
  </div>
      </nav>
    </div>
  </div>
</div>

  <div class="content">
    



<div class="full-width-version-bg grey align-self">
  <div class="grid-wrapper">
    <div class="grid__item width-6-12">
      <p class="returnlink"><i class="fas fa-angle-left"></i><a href="/version/main/guides/">ガイド一覧に戻る</a></p>
    </div>
    <div class="grid__item width-6-12 align-self-center text-right hide-mobile">
      <label id="guide-version-label">ガイドのバージョンを選択</label>
      <select id="guide-version-dropdown">
        
      
        
        
        
        
          
        <option value="main" selected>Main - SNAPSHOT</option>
        
        
      
        
        
        
        
          
        <option value="latest" >2.12 - Latest</option>
        
        
      
        
        
        
        
          
        <option value="2.7" >2.7</option>
        
        
      
        
        
        
        
      
        
        
        
        
      
    
      </select>
    </div>
  </div>
</div>

<div class="grid-wrapper guide">
  <div class="grid__item width-12-12 width-12-12-mobile">
    <h1 class="text-caps">エクステンションcodestart </h1>
  </div>
  <div class="width-12-12">
    <div class="hide-mobile toc"><ul class="sectlevel1">
<li><a href="#説明">説明</a></li>
<li><a href="#仕組">仕組</a></li>
<li><a href="#quarkus-extensionのcodestartはどこにありますか">Quarkus ExtensionのCodestartはどこにありますか？</a></li>
<li><a href="#ベースcodestart">ベースcodestart</a></li>
<li><a href="#エクステンションcodestartの作成">エクステンションcodestartの作成</a>
<ul class="sectlevel2">
<li><a href="#the-code">The code</a></li>
<li><a href="#the-codestart-quarkiverse-or-standalone-extensions">The Codestart (Quarkiverse or Standalone extensions)</a></li>
<li><a href="#テスト">テスト</a></li>
<li><a href="#さらに詳しく">さらに詳しく</a></li>
<li><a href="#extensions-codestarts-in-quarkus-core">Extensions codestarts in Quarkus Core</a></li>
</ul>
</li>
<li><a href="#具体的なトピック">具体的なトピック</a>
<ul class="sectlevel2">
<li><a href="#org-acme-package"><code>org.acme</code> placeholder for package name</a></li>
<li><a href="#codestart-yml">codestart.yml</a></li>
<li><a href="#directory-structure">ディレクトリ構造</a></li>
<li><a href="#dynamic-config-keys-in-codestart">Dynamic Config Keys in Codestart</a></li>
<li><a href="#static-config-keys-in-codestart">Static Config Keys in Codestart</a></li>
<li><a href="#ファイルの命名規則">ファイルの命名規則</a></li>
<li><a href="#qute-templates">テンプレート（Qute）</a></li>
<li><a href="#readme-md">README.md</a></li>
<li><a href="#app-config">application config application.yml</a></li>
<li><a href="#index-html">index.html and web extension codestarts</a></li>
<li><a href="#integration-test">結合テスト</a></li>
<li><a href="#作成のコツ">作成のコツ</a></li>
</ul>
</li>
<li><a href="#ジェネレーターのソース">ジェネレーターのソース</a></li>
<li><a href="#課題機能要望">課題・機能要望</a></li>
</ul></div>
    <div>
      <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>このガイドでは、エクステンションのためにQuarkus Codestartを作成および設定する方法について説明します。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="説明"><a class="anchor" href="#説明"></a>説明</h2>
<div class="sectionbody">
<div class="paragraph">
<p>"Extension Codestarts" is the name we give to our Quarkus extension quickstart code generation system. It aims to provide a personalized getting started experience with Quarkus. A Quarkus extension is able to provide one or more well-defined codestarts which will contain the resources and code required/recommended to start using that particular extension.</p>
</div>
<div class="paragraph">
<p>Extension codestarts are applied by default when using the Quarkus tooling (if the chosen extensions contain any):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://code.quarkus.io" target="_blank" rel="noopener">code.quarkus.io</a>（[code]とタグ付けされたエクステンションを探す）</p>
</li>
<li>
<p>The Quarkus Maven plugin:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mvn io.quarkus.platform:quarkus-maven-plugin:create</code></pre>
</div>
</div>
</li>
<li>
<p>The Quarkus CLI:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus create app</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="仕組"><a class="anchor" href="#仕組"></a>仕組</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When starting a project, you choose the language, the build tool, the framework, then you add Dockerfiles, CI, dependencies and code.</p>
</div>
<div class="paragraph">
<p>Codestartsは、プロジェクトの生成に貢献する際に同じように働き、2つのカテゴリーに分けられます。</p>
</div>
<div class="paragraph">
<p><strong>"ベース" のコードスタート（この組み合わせを選択）:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>project: プロジェクトの骨組（例：Quarkusプロジェクト）</p>
</li>
<li>
<p>buildtool: ビルドツール（例：Maven、Gradle、Gradle with Kotlin DSL）</p>
</li>
<li>
<p>language: コーディング言語（例：Java、Kotlin、Scala）</p>
</li>
<li>
<p>config: 設定の種類（例：yaml、properties）</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Extra codestarts (as much as wanted, added on top of the base ones):</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>tooling: Anything that can be added to improve the project (e.g. Dockerfiles, GitHub Actions workflows)</p>
</li>
<li>
<p>code: どのQuarkusエクステンションもスターターコードを提供可能です。ユーザーはそれを有効にするかどうかを決めることができます。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>各コードスタートは以下から構成されています:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>codestartのユニークな名前、つまり <code>my-codestart</code></p>
</li>
<li>
<p>codestartファイルを置くディレクトリ、つまり <code>my-codestart/</code></p>
</li>
<li>
<p><code>codestart.yml</code> ファイル</p>
</li>
<li>
<p>共通の構造と命名規則に従ったいくつかのテンプレート（オプション）</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="quarkus-extensionのcodestartはどこにありますか"><a class="anchor" href="#quarkus-extensionのcodestartはどこにありますか"></a>Quarkus ExtensionのCodestartはどこにありますか？</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>In the Quarkus core repository, the extension codestarts are all in the same <a href="https://github.com/quarkusio/quarkus/tree/main/devtools/project-core-extension-codestarts/src/main/resources/codestarts/quarkus/extension-codestarts" target="_blank" rel="noopener">module</a>.</p>
</li>
<li>
<p>RESTEasy、RESTEasy Reactive、Spring Webエクステンションのcodestartは、 <a href="https://github.com/quarkusio/quarkus/tree/main/independent-projects/tools/base-codestarts/src/main/resources/codestarts/quarkus/extension-codestarts" target="_blank" rel="noopener">ベースのコードスタート</a>の一部です。</p>
</li>
<li>
<p>その他のエクステンションの場合、codestartは通常、ランタイム・モジュールに配置されます（別のcodestartアーティファクトを生成するよう、 <code>pom.xml</code> に特別な指示があります）。</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ベースcodestart"><a class="anchor" href="#ベースcodestart"></a>ベースcodestart</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <a href="https://github.com/quarkusio/quarkus/tree/main/independent-projects/tools/base-codestarts/src/main/resources/codestarts/quarkus" target="_blank" rel="noopener">base codestarts</a> contains templates to create project, buildtool, languages, config and tooling files.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="エクステンションcodestartの作成"><a class="anchor" href="#エクステンションcodestartの作成"></a>エクステンションcodestartの作成</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Here is a step-by-step guide to write an extension codestart. You may also watch the <a href="https://www.youtube.com/watch?v=lLyVDqVK8cE">Quarkus Insight #99</a> with a live-coding session.</p>
</div>
<div class="paragraph">
<p>As was mentioned previously, the base project files (pom.xml, Dockerfiles, &#8230;&#8203;) are already generated by the base codestarts provided by the Quarkus core. Thanks to this, we can only focus on the starter code specific to the extension.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s take <code>io.quarkiverse.aloha:quarkus-aloha</code> as an example extension GAV (don&#8217;t look for this extension, it doesn&#8217;t exist).</p>
</div>
<div class="sect2">
<h3 id="the-code"><a class="anchor" href="#the-code"></a>The code</h3>
<div class="paragraph">
<p>A Codestart is a template for scaffolding new project. The easiest way to prepare a Codestart is to generate a Quarkus project, add the content you want in your template and then create your Codestart from there.</p>
</div>
<div class="paragraph">
<p>Therefore, go to <a href="https://code.quarkus.io" target="_blank" rel="noopener">code.quarkus.io</a>, create a new project with the aloha extension and <code>org.acme</code> as Group (i.e <a href="#org-acme-package"><code>org.acme</code> placeholder for package name</a>). Prepare a nice starter. It should not include any business logic, instead, it should contain some stub data/hello world that compiles and gives an overview of how to use the extension. The idea is to bring code that is the most common starting point for the extension.</p>
</div>
<div class="paragraph">
<p>Happy with the code? Let&#8217;s make a Codestart out of it.</p>
</div>
</div>
<div class="sect2">
<h3 id="the-codestart-quarkiverse-or-standalone-extensions"><a class="anchor" href="#the-codestart-quarkiverse-or-standalone-extensions"></a>The Codestart (Quarkiverse or Standalone extensions)</h3>
<div class="paragraph">
<p>In your extension:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create the <code>runtime/src/main/codestarts/quarkus/aloha-codestart</code> directory</p>
</li>
<li>
<p>Move the <code>src/main/java</code> from your generated project to <code>runtime/src/main/codestarts/quarkus/aloha-codestart/java/src/main/java</code></p>
</li>
<li>
<p>(Optional) Move the config using this convention: <a href="#app-config">application config application.yml</a>.</p>
</li>
<li>
<p>Create a <a href="#codestart-yml">codestart.yml</a> file in <code>runtime/src/main/codestarts/quarkus/aloha-codestart</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">name: aloha-codestart
ref: aloha
type: code
tags: extension-codestart
metadata:
  title: Aloha
  description: Start to code with the Aloha extension.
  related-guide-section: https://quarkiverse.github.io/quarkiverse-docs/quarkus-aloha/dev/
  path: /aloha # (optional) for web extensions providing HTTP resources</code></pre>
</div>
</div>
</li>
<li>
<p>Add the Maven build plugin configuration in <code>runtime/pom.xml</code> (to generate the codestart artifact: <code>/target/quarkus-aloha-VERSION-codestarts.jar</code>):</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">      &lt;plugin&gt;
        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;id&gt;generate-codestart-jar&lt;/id&gt;
            &lt;phase&gt;generate-resources&lt;/phase&gt;
            &lt;goals&gt;
              &lt;goal&gt;jar&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;configuration&gt;
              &lt;classesDirectory&gt;${project.basedir}/src/main&lt;/classesDirectory&gt;
              &lt;includes&gt;
                &lt;include&gt;codestarts/**&lt;/include&gt;
              &lt;/includes&gt;
              &lt;classifier&gt;codestarts&lt;/classifier&gt;
              &lt;skipIfEmpty&gt;true&lt;/skipIfEmpty&gt;
            &lt;/configuration&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
      &lt;/plugin&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>Add the codestart binding in the extension metadata <code>runtime/src/main/resources/META-INF/quarkus-extension.yaml</code>. <strong>Without this, your codestart won&#8217;t be added when your extension is picked</strong>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">name: ...
description: ...
metadata:
  ...
  codestart:
    name: "aloha"
    languages:
    - "java"
    artifact: "io.quarkiverse.aloha:quarkus-aloha:codestarts:jar:${project.version}"</code></pre>
</div>
</div>
</li>
<li>
<p>Add the readme <a href="#readme-md">README.md</a> section template in <code>base/README.tpl.qute.md</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">{#include readme-header /}</code></pre>
</div>
</div>
</li>
<li>
<p>Run <code>mvn clean install</code> in the extension root (or just <code>runtime</code>).</p>
</li>
<li>
<p>Now we can check that the codestart actually works by creating a project consuming our extension (make sure the snapshot version is correct):</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus create app aloha-app -x=io.quarkiverse.aloha:quarkus-aloha:999-SNAPSHOT

...
applying codestarts...
📚  java
🔨  maven
📦  quarkus
📝  config-properties
🔧  dockerfiles
🔧  maven-wrapper
🚀  aloha-codestart &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
...</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="テスト"><a class="anchor" href="#テスト"></a>テスト</h3>
<div class="ulist">
<ul>
<li>
<p>Add this dependency to the <code>integration-tests</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
  &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
  &lt;artifactId&gt;quarkus-devtools-testing&lt;/artifactId&gt;
  &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>Create a <code>AlohaCodestartTest</code> in the <code>integration-tests</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class AlohaCodestartTest {

    @RegisterExtension
    public static QuarkusCodestartTest codestartTest = QuarkusCodestartTest.builder()
            .languages(Language.JAVA)
            .setupStandaloneExtensionTest("io.quarkiverse.aloha:quarkus-aloha")
            .build();

    @Test
    void testContent() throws Throwable {
        codestartTest.checkGeneratedSource("org.acme.AlohaResource");
    }

    @Test
    void buildAllProjects() throws Throwable {
        codestartTest.buildAllProjects();
    }
}</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="さらに詳しく"><a class="anchor" href="#さらに詳しく"></a>さらに詳しく</h3>
<div class="ulist">
<ul>
<li>
<p>If the extension provides some web resources, add the <code>base/src/main/resources/META-INF/resources/index.entry.qute.html</code> template (<a href="#index-html">index.html and web extension codestarts</a>).</p>
</li>
<li>
<p>Add another language (it is recommended to provide Java and Kotlin).</p>
</li>
<li>
<p>You may add some other resources (in the <code>./base</code> directory if they are not language-specific).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="extensions-codestarts-in-quarkus-core"><a class="anchor" href="#extensions-codestarts-in-quarkus-core"></a>Extensions codestarts in Quarkus Core</h3>
<div class="ulist">
<ul>
<li>
<p>The codestarts are all grouped in a <a href="https://github.com/quarkusio/quarkus/tree/main/devtools/project-core-extension-codestarts/src/main/resources/codestarts/quarkus/extension-codestarts" target="_blank" rel="noopener">specific module</a>.</p>
</li>
<li>
<p>No extra Maven configuration is needed.</p>
</li>
<li>
<p>The <a href="https://github.com/quarkusio/quarkus/blob/main/extensions/resteasy-reactive/quarkus-resteasy-reactive-qute/runtime/src/main/resources/META-INF/quarkus-extension.yaml#L18" target="_blank" rel="noopener">extension metadata</a> references the artifact containing all the core codestarts.</p>
</li>
<li>
<p>The tests are also <a href="https://github.com/quarkusio/quarkus/tree/main/integration-tests/devtools/src/test/java/io/quarkus/devtools/codestarts/quarkus" target="_blank" rel="noopener">grouped</a>. You don&#8217;t need to test the build as there is a specific grouped <a href="https://github.com/quarkusio/quarkus/blob/main/integration-tests/devtools/src/test/java/io/quarkus/devtools/codestarts/quarkus/QuarkusCodestartBuildIT.java" target="_blank" rel="noopener">test</a> for it. e.g.:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class ConfigYamlCodestartTest {

    @RegisterExtension
    public static QuarkusCodestartTest codestartTest = QuarkusCodestartTest.builder()
            .codestarts("config-yaml")
            .languages(JAVA, KOTLIN)
            .build();

    @Test
    void testContent() throws Throwable {
        codestartTest.checkGeneratedSource("org.acme.GreetingConfig");
        codestartTest.assertThatGeneratedFileMatchSnapshot(JAVA, "src/main/resources/application.yml");
    }

    @Test
    @EnabledIfSystemProperty(named = "build-projects", matches = "true")
    void buildAllProjectsForLocalUse() throws Throwable {
        codestartTest.buildAllProjects();
    }

}</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="具体的なトピック"><a class="anchor" href="#具体的なトピック"></a>具体的なトピック</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="org-acme-package"><a class="anchor" href="#org-acme-package"></a><code>org.acme</code> placeholder for package name</h3>
<div class="paragraph">
<p>You have to use <code>org.acme</code> as the package name in your extension codestart sources. In the generated project, the user specified package (or Group) will be used (and automatically replace <code>org.acme</code>).</p>
</div>
<div class="paragraph">
<p>The package will be automatically replaced in all the source files (.java, .kt, .scala). The package directory will also be automatically adjusted. If for some reason, another type of file needs the user package name then you should use a <a href="#qute-templates">テンプレート（Qute）</a> for it and the <code>{project.package-name}</code> data placeholder (<a href="https://github.com/quarkusio/quarkus/blob/main/devtools/project-core-extension-codestarts/src/main/resources/codestarts/quarkus/extension-codestarts/grpc-codestart/base/src/main/proto/hello.tpl.qute.proto#L4" target="_blank" rel="noopener">find an example in the grpc proto file</a>).</p>
</div>
</div>
<div class="sect2">
<h3 id="codestart-yml"><a class="anchor" href="#codestart-yml"></a>codestart.yml</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml"># codestart unique name
name: resteasy-example
# codestart reference, use the extension id
ref: resteasy
# use 'code' (other types are for base codestarts)
type: code
# use 'extension-codestart'
tags: extension-codestart
# public metadata for this example (accessible as data in the templates e.g. {title})
metadata:
  title: RESTEasy JAX-RS example
  description: Rest is easy peasy with this Hello World RESTEasy resource.
  related-guide-section: https://quarkus.io/guides/getting-started#the-jax-rs-resources
  # (optional) use this in web extensions with a specific path (and also add the index page)
  path: /some-path</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="directory-structure"><a class="anchor" href="#directory-structure"></a>ディレクトリ構造</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>codestart.yml</code> は唯一の必須ファイルです。
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p><code>codestart.yml</code> はcodestartのルートに配置される必要があります。</p>
</li>
<li>
<p><code>./base</code> contains all the files that will be processed independently of the specified language</p>
</li>
<li>
<p><code>./[java/kotlin/scala]</code> は、指定された言語が選択されている場合にのみ処理されるすべてのファイルを含みます（baseをオーバーライドします）</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="dynamic-config-keys-in-codestart"><a class="anchor" href="#dynamic-config-keys-in-codestart"></a>Dynamic Config Keys in Codestart</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">gen-info.time = time of generation (in millis)
input.selected-extensions[].name|description|guide = list of selected extensions with info
input.selected-extensions-ga = Set of String with the list of extensions groupId:artifactId, usefull for dynamic codestarts depending on selected extensions
input.provided-code[].name|tags|title|description|related-guide: list of selected codestarts with info</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="static-config-keys-in-codestart"><a class="anchor" href="#static-config-keys-in-codestart"></a>Static Config Keys in Codestart</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.platform.group-id = BOM groupId
quarkus.platform.artifact-id = BOM ArtifactId
quarkus.platform.version = BOM Version
project.group-id = Project groupId
project.artifact-id = project ArtifactId
project.version = Project Version
project.package-name = Project Package name
quarkus.maven-plugin.group-id = Quarkus Maven plugin groupId
quarkus.maven-plugin.artifact-id = Quarkus Maven plugin ArtifactId
quarkus.maven-plugin.version = Quarkus Maven plugin version.
quarkus.gradle-plugin.id = Quarkus gradle pluginId
quarkus.gradle-plugin.version = Quarkus gradle plugin version
quarkus.version = Quarkus version
java.version = Java version
kotlin.version = Kotlin version
scala.version = scala version
scala-maven-plugin.version = scala maven plugin version
maven-compiler-plugin.version = Maven compiler plugin version
maven-surefire-plugin.version = Maven surefire plugin version</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ファイルの命名規則"><a class="anchor" href="#ファイルの命名規則"></a>ファイルの命名規則</h3>
<div class="ulist">
<ul>
<li>
<p><code>.tpl.qute</code> は、Quteで処理され、データを使用することができます（出力ファイル名から <code>.tpl.qute</code> が削除されます）。</p>
</li>
<li>
<p><code>readme.md</code>, <code>src/main/resources/application.yml</code>, <code>src/main/resources/META-INF/resources/index.html</code> などの特定の共通ファイルは、プロジェクトのために選択されたコードスター トで見つかった収集されたフラグメントから生成されます。</p>
</li>
<li>
<p>他のファイルはコピーされます。</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="qute-templates"><a class="anchor" href="#qute-templates"></a>テンプレート（Qute）</h3>
<div class="paragraph">
<p>Codestartは、ダイナミックレンダリングのために Qute テンプレート <code>MyClass.tpl.qute.java</code> を使用することができます。</p>
</div>
<div class="paragraph">
<p>これらのテンプレートは、以下を含むデータを使用することができます:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>生成するcodestartの <code>data</code> （および公開 <code>metadata</code> ）（ <code>codestart.yml</code> で指定されている）</p>
</li>
<li>
<p>プロジェクトの生成に使用されたすべてのcodestartから <code>shared-data</code> をマージしたもの</p>
</li>
<li>
<p>ユーザー入力</p>
</li>
<li>
<p>いくつかの動的に生成されたデータ（例： <code>dependencies</code> や <code>test-dependencies</code> ）</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="readme-md"><a class="anchor" href="#readme-md"></a>README.md</h3>
<div class="paragraph">
<p><code>base</code> ディレクトリに <code>README.md</code> や <code>README.tpl.qute.md</code> を追加することが出来ます。他のものに追加されます。つまり、エクステンション codestart に関連する情報を追加するだけです。</p>
</div>
<div class="paragraph">
<p>base/README.tpl.qute.md</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">{#include readme-header /}

[Optionally, Here you may add information about how to use the example, settings, ...]</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>{#include readme-header /}</code> は、Quarkusプロジェクトのcodestartにあるテンプレートを使用し、 <code>codestart.yml</code> のメタデータから標準的な情報を表示します。
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="app-config"><a class="anchor" href="#app-config"></a>application config application.yml</h3>
<div class="paragraph">
<p>慣習として、Quarkusの設定は常にyamlファイル( <code>base/src/main/resources/application.yml</code>)として提供する必要があります。</p>
</div>
<div class="paragraph">
<p>設定は:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>merged with the other extension codestarts configs</p>
</li>
<li>
<p>選択されたエクステンションに応じて、生成時に選択された設定タイプ（yamlまたはproperties）に自動的に変換されます</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="index-html"><a class="anchor" href="#index-html"></a>index.html and web extension codestarts</h3>
<div class="paragraph">
<p>Extension codestartsでは、このファイルを追加することで、生成されるindex.htmlにスニペットを提供することができます。</p>
</div>
<div class="paragraph">
<p>base/src/main/resources/META-INF/resources/index.entry.qute.html:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">{#include index-entry /}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>{#include index-entry /}</code> は、Quarkusプロジェクトのcodestartにあるテンプレートを使用し、 <code>codestart.yml</code> のメタデータから標準的な情報を表示します。
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="integration-test"><a class="anchor" href="#integration-test"></a>結合テスト</h3>
<div class="paragraph">
<p>An extension is available to help test extension codestarts <code>QuarkusCodestartTest</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
  &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
  &lt;artifactId&gt;quarkus-devtools-testing&lt;/artifactId&gt;
  &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>It provides a way to test:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>スナップショットテストを用いて、生成されたプロジェクトコンテンツ（不変のモックデータを含む）</p>
</li>
<li>
<p>生成されたプロジェクトのビルドと実行（実データを使用）、ビルドを実行するヘルパー付き</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
すべてのテストの前に、このエクステンションは、指定された言語で、指定されたcodestartで、モックされたデータと実際のデータを使ってQuarkusプロジェクトを生成します。生成されたプロジェクトは、 <code>target/quarkus-codestart-test</code> ディレクトリにあります。 <code>real-data</code> のプロジェクトは IDE で開くことができますし、ターミナルで操作することもできます。 <strong>実データは、エクステンションcodestartの開発を繰り返し行う最も簡単な方法です。</strong>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>このエクステンションは、プロジェクトのビルド <code>buildAllProjects</code> や、特定の言語のプロジェクト <code>buildProject(Language language)</code> をテストするヘルパーを提供します。また、<a href="#snapshot-testing">スナップショットテスト</a> でコンテンツをテストするヘルパーも提供しています。</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/quarkusio/quarkus/blob/main/integration-tests/devtools/src/test/java/io/quarkus/devtools/codestarts/quarkus/ConfigYamlCodestartTest.java" target="_blank" rel="noopener">ConfigYamlCodestartTest</a>は、Quarkus coreの良い例です。</p>
</div>
<div class="sect3">
<h4 id="snapshot-testing"><a class="anchor" href="#snapshot-testing"></a>スナップショットテスト</h4>
<div class="paragraph">
<p>スナップショット テストとは、テストによって生成されるコンテンツが、あるリビジョンから別のリビジョン、つまりコミット間で変更されないようにする方法です。つまり、コミットごとに生成されるコンテンツは、不変であり、決定性がある必要があります（これが、モックされたデータを使用する理由です）。このようなチェックを行うために、生成されたコンテンツのスナップショットを自動生成し、後続のテスト実行時に期待される出力の参照先としてコミットします。テンプレートが変更された場合は、生成されたスナップショットの変更もコミットします。このようにして、レビューの際には、適用されたコードの変更が、生成された出力に対して期待される効果を持つことを確認することができます。</p>
</div>
<div class="paragraph">
<p>エクステンションは、コンテンツをチェックするためのヘルパーを提供します:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>checkGeneratedSource()</code> は、すべての言語（または特定の言語）のスナップショットに対してクラスを検証します。</p>
</li>
<li>
<p><code>checkGeneratedTestSource()</code> は、すべての言語（または特定の言語）のスナップショットに対してテストクラスを検証します。</p>
</li>
<li>
<p><code>assertThatGeneratedFileMatchSnapshot()</code> は、プロジェクトファイルをスナップショットと照合します。</p>
</li>
<li>
<p>上記のメソッドの戻り値に <code>AbstractPathAssert.satisfies(checkContains("some content"))</code> または任意の Path アサートを使用して、ファイルに特定のコンテンツが含まれているかどうかを確認することもできます。</p>
</li>
<li>
<p><code>assertThatGeneratedTreeMatchSnapshots()</code> では、特定の言語のプロジェクトのファイル構造（ツリー）を、そのスナップショットと比較することができます。</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
ローカルファイルシステム上の既存のスナップショットファイルを最初に生成または更新するためには、codestartの開発中にローカルでテストを実行する際に、 <code>-Dsnap</code> を追加する必要があります。これらはコミットの一部として追加する必要があり、そうしないとCI上でテストが通過しません。
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="作成のコツ"><a class="anchor" href="#作成のコツ"></a>作成のコツ</h3>
<div class="ulist">
<ul>
<li>
<p>あなたのエクステンションcodestartは、buildtoolやdockerfilesから独立していなければなりません/しなければなりません。</p>
</li>
<li>
<p>エクステンションcodestartは、互いに干渉することなく（組み合わせて）一緒に使えるべきです。</p>
</li>
<li>
<p>クラス名がすべてのエクステンションのcodestartでユニークであることを担保してください。</p>
</li>
<li>
<p>パッケージ名には <code>org.acme</code> のみを使用してください。</p>
</li>
<li>
<p>RESTのパスには、ユニークなパス <code>/[unique]</code> を使用してください。</p>
</li>
<li>
<p>設定は <code>src/main/resources/application.yml</code> ymlに記述してください。</p>
<div class="paragraph">
<p>これは、他の codestarts のコンフィグとマージされ、選択された設定タイプ (yaml または properties) に自動的に変換されます。</p>
</div>
</li>
<li>
<p>javaから始めて、後で別のPRでkotlinを追加することもできます（忘れないようにissueを作成してください）。</p>
</li>
<li>
<p>質問がある場合は、 <a href="https://quarkusio.zulipchat.com/" class="bare">https://quarkusio.zulipchat.com/</a> で @ia3andy に ping してください。</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ジェネレーターのソース"><a class="anchor" href="#ジェネレーターのソース"></a>ジェネレーターのソース</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/quarkusio/quarkus/tree/main/independent-projects/tools/codestarts" target="_blank" rel="noopener">Codestart generator</a></p>
</li>
<li>
<p><a href="https://github.com/quarkusio/quarkus/tree/main/independent-projects/tools/devtools-common/src/main/java/io/quarkus/devtools/codestarts/quarkus" target="_blank" rel="noopener">CodestartジェネレーターのQuarkusによる実装</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="課題機能要望"><a class="anchor" href="#課題機能要望"></a>課題・機能要望</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://github.com/quarkusio/quarkus/labels/area%2Fcodestarts" class="bare">https://github.com/quarkusio/quarkus/labels/area%2Fcodestarts</a></p>
</div>
</div>
</div>
    </div>
  </div>
</div>

  </div>

  <div class="content project-footer">
  <div class="footer-section">
    <div class="logo-wrapper">
      <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_reverse.svg" class="project-logo" title="Quarkus"></a>
    </div>
  </div>
  <div class="grid-wrapper">
    <p class="grid__item width-3-12">Quarkus はオープンです。このプロジェクトの全ての依存関係は<a href='https://www.apache.org/licenses/LICENSE-2.0' target='_blank'>Apache Software License 2.0</a>または互換性のあるライセンスの元で利用出来ます。<br /><br />このウェブサイトは <a href='https://jekyllrb.com/' target='_blank'>Jekyll</a> で構築されており、<a href='https://pages.github.com/' target='_blank'>Github Pages</a>にホストされており、完全にオープンソースです。改善したい場合、 <a href='https://github.com/quarkusio/quarkusio.github.io' target='_blank'>ウェブサイトをフォークし</a>、修正してみせてください。</p>

    
      <div class="width-1-12 project-links">
        <span>ナビゲーション</span>
        <ul class="footer-links">
          
            <li><a href="/">ホーム</a></li>
          
            <li><a href="/about">Quarkusについて</a></li>
          
            <li><a href="/blog">ブログ</a></li>
          
            <li><a href="/insights">ポッドキャスト</a></li>
          
            <li><a href="/events">イベント</a></li>
          
            <li><a href="/newsletter">ニュースレター</a></li>
          
            <li><a href="/publications">出版</a></li>
          
            <li><a href="/awards">受賞</a></li>
          
            <li><a href="/security">セキュリティポリシー</a></li>
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>フォロー</span>
        <ul class="footer-links">
          
            <li><a href="https://twitter.com/quarkusio">Twitter</a></li>
          
            <li><a href="https://www.facebook.com/quarkusio">Facebook</a></li>
          
            <li><a href="https://www.linkedin.com/company/quarkusio/">Linkedin</a></li>
          
            <li><a href="https://www.youtube.com/channel/UCaW8QG_QoIk_FnjLgr5eOqg">Youtube</a></li>
          
            <li><a href="https://github.com/quarkusio">GitHub</a></li>
          
        </ul>
      </div>
    
      <div class="width-2-12 project-links">
        <span>ヘルプ</span>
        <ul class="footer-links">
          
            <li><a href="/support">サポート</a></li>
          
            <li><a href="/guides">ガイド</a></li>
          
            <li><a href="/faq">FAQ</a></li>
          
            <li><a href="/get-started">入門</a></li>
          
            <li><a href="https://stackoverflow.com/questions/tagged/quarkus">Stack Overflow</a></li>
          
            <li><a href="https://github.com/quarkusio/quarkus/discussions">ディスカッション</a></li>
          
            <li><a href="https://groups.google.com/forum/#!forum/quarkus-dev">開発メーリングリスト</a></li>
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>言語</span>
        <ul class="footer-links">
          
            <li><a href="https://quarkus.io/">English</a></li>
          
            <li><a href="https://es.quarkus.io/">Español</a></li>
          
            <li><a href="https://cn.quarkus.io/">简体中文</a></li>
          
            <li><a href="https://ja.quarkus.io/">日本語</a></li>
          
        </ul>
      </div>
    

    
      <div class="width-4-12 more-links">
        <span>Quarkusはコミュニティプロジェクトで構成されています：</span>
        <ul class="footer-links">
          
            <li><a href="https://vertx.io/" target="_blank">Eclipse Vert.x</a></li>
          
            <li><a href="https://smallrye.io" target="_blank">SmallRye</a></li>
          
            <li><a href="https://hibernate.org" target="_blank">Hibernate</a></li>
          
            <li><a href="https://netty.io" target="_blank">Netty</a></li>
          
            <li><a href="https://resteasy.github.io" target="_blank">RESTEasy</a></li>
          
            <li><a href="https://camel.apache.org" target="_blank">Apache Camel</a></li>
          
            <li><a href="https://microprofile.io" target="_blank">Eclipse MicroProfile</a></li>
          
            <li><a href="https://code.quarkus.io/" target="_blank">等々...</a></li>
          
        </ul>
      </div>
    
  </div>
</div>

  <div class="content redhat-footer">
  <div class="grid-wrapper">
    <span class="licence">
      <i class="fab fa-creative-commons"></i><i class="fab fa-creative-commons-by"></i> <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC by 3.0</a> | <a href="https://www.redhat.com/en/about/privacy-policy">Privacy Policy</a>
    </span>
    <span class="redhat">
      Sponsored by
    </span>
    <span class="redhat-logo">
      <a href="https://www.redhat.com/" target="_blank"><img src="/assets/images/redhat_reversed.svg"></a>
    </span>
  </div>
</div>


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>
  <script type="text/javascript" src="/assets/javascript/mobile-nav.js"></script>
  <script type="text/javascript" src="/assets/javascript/scroll-down.js"></script>
  <script src="/assets/javascript/satellite.js" type="text/javascript"></script>
  <script src="/guides/javascript/config.js" type="text/javascript"></script>
  <script src="/assets/javascript/search-filter.js" type="text/javascript"></script>
  <script src="/assets/javascript/guides-version-dropdown.js" type="text/javascript"></script>
  <script src="/assets/javascript/back-to-top.js" type="text/javascript"></script>
  <script src="/assets/javascript/clipboard.min.js" type="text/javascript"></script>
  <script src="/assets/javascript/copy.js" type="text/javascript"></script>
  <script src="/assets/javascript/asciidoc-tabs.js" type="text/javascript"></script>
</body>

</html>
